# Ryutai 流体シミュレーション - 機能ガイド

## 新機能: GPUアクセラレーション (CuPy)

**CuPy** を使用した高性能GPUバックエンドを実装しました。これにより、計算速度が大幅に向上し、より多くの粒子を扱えるようになります。

### 1. 必要要件 (Requirements)

GPUモードを使用するには、NVIDIA製GPUが必要であり、かつ使用中のCUDAバージョンに対応した `cupy` ライブラリのインストールが必要です。

**インストールコマンド:**
```bash
# CUDAバージョンの確認 (例: nvcc --version)
# CUDA 13.x の場合:
uv add cupy-cuda13x

# CUDA 12.x の場合:
uv add cupy-cuda12x

# CUDA 11.x の場合:
uv add cupy-cuda11x
```

### 2. 有効化の手順 (How to Enable)

1. アプリケーションを起動します。
2. 画面上部にある「計算設定 (Compute)」セクションを開きます（デフォルトで開いています）。
3. 「計算デバイス」コンボボックスから **GPU** を選択します。
   - *注意: `cupy` がインストールされていない場合、GPUの選択肢は表示されません。*
4. シミュレーションがリセットされ、GPUソルバーに切り替わります。

### 3. パフォーマンスのヒント

- **粒子数**: GPUモードでは、粒子数を大幅に増やすことができます (例: 100,000個以上)。UIの粒子数スライダーを増やしてみてください。
- **流入口/流出口**: GPUソルバーも、CPU版と同様に全ての壁面 (上下左右) へのポート配置に対応しています。

## 既存機能: 流入口/流出口の自由配置

(面選択や位置調整については、以前のドキュメントを参照してください)
